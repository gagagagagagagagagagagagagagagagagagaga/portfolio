(()=>{gsap.registerPlugin(ScrollTrigger);var y="ontouchstart"in window||navigator.maxTouchPoints>0,m=new Lenis({duration:1.5,smooth:!0,smoothTouch:!0,touchMultiplier:1.5,ignore:e=>e.hasAttribute("data-lenis-ignore")});function L(e){m.raf(e),requestAnimationFrame(L)}requestAnimationFrame(L);m.on("scroll",ScrollTrigger.update);gsap.ticker.add(e=>{m.raf(e*1e3)});document.querySelectorAll("[data-lenis-ignore]").forEach(e=>{e.addEventListener("wheel",n=>n.stopPropagation(),{passive:!1})});var v=document.querySelector(".c-cursor"),S=document.querySelector(".c-cursor__text"),b=document.querySelector(".c-hover-reveal"),q=document.querySelector(".c-hover-reveal__img"),A=document.querySelector(".c-main-logo__circle");y||(document.addEventListener("mousemove",e=>{gsap.to(v,{x:e.clientX,y:e.clientY,duration:.1}),gsap.to(b,{x:e.clientX,y:e.clientY,duration:.5});let n=(e.clientX-window.innerWidth/2)*.05,r=(e.clientY-window.innerHeight/2)*.05;A&&gsap.to(A,{x:n,y:r,duration:1,ease:"power2.out"})}),document.querySelectorAll(".magnetic").forEach(e=>{e.addEventListener("mousemove",n=>{let r=e.getBoundingClientRect(),c=n.clientX-r.left-r.width/2,t=n.clientY-r.top-r.height/2;gsap.to(e,{x:c*.3,y:t*.3,duration:.3,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(e,{x:0,y:0,duration:.5,ease:"elastic.out(1, 0.3)"})})}),document.querySelectorAll(".hover-target").forEach(e=>{e.addEventListener("mouseenter",()=>{v.classList.add("is-active"),S.textContent=e.getAttribute("data-cursor")||"",e.getAttribute("data-img")&&(q.src=e.getAttribute("data-img"),gsap.to(b,{autoAlpha:1,duration:.3}),gsap.fromTo(q,{scale:1.2},{scale:1,duration:.4}))}),e.addEventListener("mouseleave",()=>{v.classList.remove("is-active"),S.textContent="",gsap.to(b,{autoAlpha:0,duration:.3})})}));var x=()=>{let e=document.getElementById("splashCurtain"),n=document.getElementById("loadingProgress"),r=document.getElementById("splashProgress");document.querySelectorAll(".u-char-reveal").forEach(t=>{let o=t.innerHTML;o=o.replace(/<br\s*\/?>/gi,"##BR##");let i=document.createElement("div");i.innerHTML=o;let l=i.textContent.trim(),a="",u=Array.from(l),d="";t.innerHTML="";let g=p=>{if(p.nodeType===Node.TEXT_NODE){let _=p.textContent.split("").map(E=>E.match(/\s/)?" ":`<span style="display:inline-block; opacity:0; transform:translateY(100%)">${E}</span>`).join(""),w=document.createElement("span");for(w.innerHTML=_;w.firstChild;)t.appendChild(w.firstChild)}else if(p.nodeName==="BR")t.appendChild(document.createElement("br"));else{let f=p.cloneNode(!1);t.appendChild(f),Array.from(p.childNodes).forEach(_=>g(_,f))}},h=new DOMParser().parseFromString(o.replace(/##BR##/g,"<br>"),"text/html");Array.from(h.body.childNodes).forEach(p=>g(p))}),document.querySelectorAll(".u-char-reveal span").forEach(t=>{}),document.querySelectorAll(".u-char-reveal").forEach(t=>{gsap.to(t.querySelectorAll("span"),{scrollTrigger:{trigger:t,start:"top 85%"},y:0,opacity:1,duration:1,stagger:.03,ease:"power4.out"})}),gsap.timeline({onComplete:()=>{e.style.pointerEvents="none",document.body.style.overflow="auto"}}).to(n,{width:"100%",duration:1.2,ease:"power2.inOut"}).to(".c-main-logo__path",{y:0,opacity:1,duration:1,stagger:.05,ease:"power4.out"},"<").to(r,{opacity:0,duration:.2}).to(".c-main-logo__circle",{opacity:1,scale:1,duration:.8,ease:"back.out(1.7)"},"-=0.5").to(e,{clipPath:"inset(0 0 100% 0)",duration:1.2,ease:"power4.inOut"},"wipe").to(".l-header",{y:0,duration:.8,ease:"power3.out"},"wipe+=0.5").to(".p-hero__meta",{opacity:1,duration:1},"wipe+=0.8")},k=()=>{let e=document.getElementById("menuBtn"),n=document.getElementById("menuOverlay"),r=document.querySelectorAll(".p-global-menu__nav-link"),c=document.querySelectorAll(".p-global-menu__bg-img"),t=!1,o=gsap.timeline({paused:!0,onReverseComplete:()=>gsap.set(n,{visibility:"hidden"})});o.set(n,{visibility:"visible"}).fromTo(".p-global-menu__shutter",{y:"100%"},{y:"0%",duration:.6,ease:"power3.inOut"}).to(".p-global-menu__shutter",{y:"-100%",duration:.6,ease:"power3.inOut"}).fromTo(".p-global-menu__bg",{opacity:0},{opacity:1,duration:.1},"-=0.3").to(r,{y:0,duration:.8,stagger:.05,ease:"power4.out"},"-=0.4").to(".p-global-menu__sidebar",{opacity:1,duration:.8},"<");let s=()=>{t=!t,t?(e.textContent="CLOSE",o.play(),m.stop()):(e.textContent="MENU",o.timeScale(1.5).reverse(),m.start())};e.addEventListener("click",s),r.forEach(i=>{i.addEventListener("click",l=>{l.preventDefault();let a=i.getAttribute("href");s(),a&&a!=="#"&&m.scrollTo(a,{offset:0,duration:2,easing:u=>1-Math.pow(1-u,4)})}),y||i.addEventListener("mouseenter",()=>{c.forEach(a=>a.classList.remove("is-active"));let l=document.getElementById(i.getAttribute("data-bg"));l&&l.classList.add("is-active")})}),y||document.querySelector(".p-global-menu__nav")?.addEventListener("mouseleave",()=>{c.forEach(i=>i.classList.remove("is-active")),document.getElementById("bg-default").classList.add("is-active")})},C=()=>{let e=document.querySelector(".p-workflow__timeline"),n=document.querySelector(".p-workflow__timeline-progress");e&&n&&gsap.fromTo(n,{height:"0%"},{height:"100%",ease:"none",scrollTrigger:{trigger:e,start:"top center",end:"bottom center",scrub:!0}}),document.querySelectorAll(".p-workflow__item").forEach(r=>{ScrollTrigger.create({trigger:r,start:"top 60%",onEnter:()=>r.classList.add("is-active"),onLeaveBack:()=>r.classList.remove("is-active")})})},M=()=>{gsap.timeline({scrollTrigger:{trigger:".p-philosophy",start:"top top",end:"+=200%",pin:!0,scrub:1,pinType:y?"fixed":"transform"}}).to(".p-philosophy__box",{width:"100vw",height:"100dvh",duration:1,ease:"power2.inOut"}).to(".p-philosophy__img-inner img",{filter:"brightness(0.4)",duration:.5},">-0.3").to(".p-philosophy__label",{opacity:.8,duration:.4},"<").to(".p-philosophy__title",{opacity:1,y:0,duration:.6},"-=0.2").to(".u-line-reveal",{opacity:1,y:0,duration:.8,stagger:.2},"-=0.4");let n=document.querySelector(".p-snapshots"),r=document.querySelector(".p-snapshots__container");if(n&&r){let o=()=>{let i=r.scrollWidth,l=window.innerWidth;return-(i-l)},s=gsap.to(r,{x:o,ease:"none",scrollTrigger:{trigger:n,pin:!0,scrub:1,start:"top top",end:()=>"+="+(r.scrollWidth-window.innerWidth),invalidateOnRefresh:!0}})}gsap.utils.toArray(".js-parallax img").forEach(o=>{gsap.to(o,{yPercent:20,ease:"none",scrollTrigger:{trigger:o.parentElement,start:"top bottom",end:"bottom top",scrub:!0}})}),gsap.timeline({scrollTrigger:{trigger:"body",start:"top top",end:"bottom bottom",scrub:1}}).to(".c-bg-shape-container__path",{attr:{d:"M10,50 Q30,20 50,50 T90,50 T50,90 T10,50"},rotation:360,scale:1.5,transformOrigin:"center center",ease:"none"}).to(".c-bg-shape-container",{opacity:.1,ease:"none"},"<"),document.querySelector(".c-bg-shape-container__path").setAttribute("d","M10,50 Q30,20 50,50 T90,50 T50,90 T10,50");let t=document.querySelectorAll(".l-footer__grid, .l-footer__cta");t.length>0&&gsap.from(t,{y:50,opacity:0,duration:1,stagger:.1,scrollTrigger:{trigger:"#footer",start:"top 80%",toggleActions:"play none none reverse"}})},I=()=>{let e=document.getElementById("workModal"),n=document.querySelector(".p-work-modal__close");document.querySelectorAll(".p-works__trigger").forEach(t=>{t.addEventListener("click",o=>{o.stopPropagation(),document.querySelector(".p-work-modal__image").src=t.getAttribute("data-image"),document.querySelector(".p-work-modal__title").textContent=t.getAttribute("data-title"),document.querySelector(".p-work-modal__category").textContent=t.getAttribute("data-category"),document.querySelector(".p-work-modal__description").textContent=t.getAttribute("data-desc"),e.classList.add("is-open"),m.stop()})}),n&&n.addEventListener("click",()=>{e.classList.remove("is-open"),m.start()}),document.getElementById("backToTop")?.addEventListener("click",()=>{m.scrollTo(0,{duration:2,easing:t=>1-Math.pow(1-t,4)})}),document.querySelectorAll('.l-footer__links a[href^="#"]').forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();let s=t.getAttribute("href");s&&s!=="#"&&m.scrollTo(s,{duration:2,easing:i=>1-Math.pow(1-i,4)})})});let r=()=>{let t=new Date,o=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Tokyo"})),s=o.getDay(),i=o.getHours()*60+o.getMinutes(),l=s!==0&&s!==6&&i>=600&&i<=1050,a=document.getElementById("okinawaTime");a&&(a.textContent=t.toLocaleTimeString("en-US",{timeZone:"Asia/Tokyo",hour12:!1,hour:"2-digit",minute:"2-digit"})+" JST"),document.querySelectorAll(".c-status-indicator").forEach(u=>{let d=u.querySelector(".c-status-indicator__dot"),g=u.querySelector(".c-status-indicator__text");d&&g&&(l?(d.classList.add("is-on"),g.textContent="AVAILABLE FOR WORK"):(d.classList.remove("is-on"),g.textContent="OFFLINE"))})};setInterval(r,1e3),r();let c=document.getElementById("noiseCanvas");if(c){let t=c.getContext("2d"),o=()=>{c.width=window.innerWidth,c.height=window.innerHeight},s=()=>{let i=c.width,l=c.height,a=t.createImageData(i,l),u=new Uint32Array(a.data.buffer);for(let d=0;d<u.length;d++)Math.random()<.5&&(u[d]=4294967295);t.putImageData(a,0,0),requestAnimationFrame(s)};window.addEventListener("resize",o),o(),s()}},O=()=>{document.querySelectorAll(".c-faq__item").forEach(e=>{let n=e.querySelector(".c-faq__summary"),r=e.querySelector(".c-faq__answer");n.addEventListener("click",c=>{c.preventDefault(),e.hasAttribute("open")?gsap.to(r,{height:0,opacity:0,duration:.4,ease:"power3.inOut",onComplete:()=>{e.removeAttribute("open"),ScrollTrigger.refresh()}}):(e.setAttribute("open","true"),gsap.fromTo(r,{height:0,opacity:0},{height:"auto",opacity:1,duration:.6,ease:"power3.out",onComplete:()=>ScrollTrigger.refresh()}))})})},B=()=>{let e=document.querySelector(".p-works__empty");if(!e)return;gsap.timeline({scrollTrigger:{trigger:e,start:"top 75%",toggleActions:"play none none reverse"}}).fromTo(".p-works__empty-deco-line",{scaleX:0},{scaleX:1,duration:1.5,ease:"expo.out"}).fromTo(".p-works__empty-visual",{scale:0,opacity:0,rotation:-90},{scale:1,opacity:1,rotation:0,duration:1,ease:"back.out(1.7)"},"-=1.2").fromTo(".p-works__empty-text-group > *",{y:20,opacity:0},{y:0,opacity:1,duration:.8,stagger:.1,ease:"power2.out"},"-=0.8")},W=()=>{let e=[],n=()=>{e.forEach(t=>t.kill()),e=[],[{outer:".c-marquee",inner:".c-marquee__inner",item:".c-marquee__content",speed:50},{outer:".l-footer__marquee-wrap",inner:".c-marquee__inner",item:".c-mini-marquee",speed:80}].forEach(t=>{let o=document.querySelector(t.outer);if(!o||getComputedStyle(o).display==="none")return;let s=o.querySelector(t.inner),i=o.querySelector(t.item);if(!s||!i)return;let l=s.querySelectorAll(t.item);for(let h=1;h<l.length;h++)l[h].remove();let a=i.offsetWidth,u=window.innerWidth;if(a===0)return;let d=Math.ceil(u/a)+2;for(let h=0;h<d;h++){let p=i.cloneNode(!0);p.setAttribute("aria-hidden","true"),s.appendChild(p)}let g=a/t.speed,T=gsap.to(s,{x:-a,duration:g,ease:"none",repeat:-1,scrollTrigger:{trigger:o,start:"top bottom",end:"bottom top",toggleActions:"play pause resume pause"}});e.push(T)})};n();let r;window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(n,200)})};window.addEventListener("load",()=>{x(),k(),M(),C(),I(),O(),B(),W(),ScrollTrigger.refresh()});})();
//# sourceMappingURL=app.js.map
